
 {% extends 'shop/base.html' %}


{% load static %}


{% load custom_tags %}




 {% block title %} {{ product.name }} | Product | page  {% endblock %}











{% block style %}
       
<style>


    

   :root {
            /* --card-bg: #ffffff;
            --dark-bg: #f8f9fa;
            --darker-bg: #e9ecef;
            --border-color: #dee2e6; */
            /* --text-primary: #212529;
            --text-secondary: #6c757d; */
            --accent: #6d28d9;
            --star-active: #ffc107;
            --star-inactive: #e4e5e9;
            --positive: #28a745;
            --negative: #dc3545;
        }


.reviews-container {
            max-width: 1000px;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        
        .reviews-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .reviews-title {
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .reviews-summary {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .average-rating {
            text-align: center;
        }
        
        .average-score {
            font-size: 3rem;
            font-weight: 700;
            line-height: 1;
            color: var(--accent);
        }
        
        .star-rating {
            color: var(--star-active);
            font-size: 1.2rem;
            margin: 0.5rem 0;
        }
        
        .total-reviews {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .rating-bars {
            flex-grow: 1;
        }
        
        .rating-bar {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .rating-label {
            width: 80px;
            font-size: 0.9rem;
        }
        
        .bar-container {
            flex-grow: 1;
            height: 8px;
            background-color: var(--darker-bg);
            border-radius: 4px;
            margin: 0 1rem;
            overflow: hidden;
        }
        
        .bar {
            height: 100%;
            background-color: var(--star-active);
            border-radius: 4px;
        }
        
        .rating-count {
            width: 40px;
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-align: right;
        }
        
        .review-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }
        
        .reviewer-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .reviewer-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--darker-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
            font-weight: 600;
        }
        
        .reviewer-name {
            font-weight: 600;
        }
        
        .review-date {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .review-rating {
            color: var(--star-active);
        }
        
        .review-title {
            font-weight: 600;
            font-size: 1.1rem;
            margin: 0.5rem 0;
        }
        
        .review-text {
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        
        .review-recommend {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        
        .recommend-yes {
            color: var(--positive);
        }
        
        .recommend-no {
            color: var(--negative);
        }
        
        .review-photos {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }
        
        .review-photo {
            width: 80px;
            height: 80px;
            border-radius: 4px;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .review-photo:hover {
            transform: scale(1.05);
        }
        
        .review-helpful {
            display: flex;
            align-items: center;
            gap: 1rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .helpful-btn {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .helpful-btn:hover {
            background-color: var(--dark-bg);
            color: var(--text-primary);
        }
        
        .helpful-count {
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
        }
        
        .page-btn {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--border-color);
            background-color: var(--card-bg);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .page-btn:hover, .page-btn.active {
            border-color: var(--accent);
            color: var(--accent);
        }
        
        .write-review-btn {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 4px;
            cursor: pointer;
            transition: opacity 0.2s;
            margin-bottom: 2rem;
        }
        
        .write-review-btn:hover {
            opacity: 0.9;
        }
        
        @media (max-width: 768px) {
            .reviews-summary {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .rating-bars {
                width: 100%;
            }
        }





</style>

 {% endblock %}


{% block body %}

    
    <div class="breadcrumbs">
        <a href="{% url 'shop:index' %}">Home</a>
        <span>/</span>
        <a href="{% url 'shop:products' %}">Products</a>
        <span>/</span>
        <a href="{% url 'shop:category' slug=product.Category.slug %}">{{ product.Category.name }}</a>
        <span>/</span>
       <a href="{% url 'shop:productDetail' slug=product.slug %}"> <span>{{ product.name }}</span> </a>
    </div>
    
    <div class="product-container">
        <div class="product-gallery">
            <div class="thumbnail-container">
                {% for image in images %}

                <img src="{{ image.image.url }}" alt="Product Thumbnail 1" class="thumbnail">
              

                
                {% endfor %}

                
            
            </div>
            <div class="main-image-container">
                
                {% for image in images|slice:":1" %}

                <img src="{{ image.image.url }}" alt="Ultra Boost Running Shoes" class="main-image">
               

                
                {% endfor %}

                
            
            </div>
        </div>
        
        <div class="product-details">
            <h1>{{ product.name }}</h1>
            <p class="product-brand">by {{ product.brand }}</p>
            
            <div class="product-rating">
                <div class="stars">
                    
                    {% if ratings_data.avg_scr %}
                     
                    {% for _ in ratings_data.avg_scr|times %}


                    <i class="fas fa-star"></i>

                    {% endfor %}




                    {% endif %}


                   

                   
                </div>
                <span class="review-count"> ({{ ratings_data.total_count }} reviews) </span>
            </div>
            
            <div class="product-price">${{ product.price }}</div>
            
            <p class="product-description">
                

                {{ product.shortdesc|safe }}

               
            
            </p>


   <form action="{% url 'shop:addToCart' %}" method="post">
            {% csrf_token %}

            
            <div class="variant-option">
                <h3>Color</h3>
                <div class="variant-selector">

                    
                   

                    <select class="sort-select" id="sort-select" name="color_pk">

                      {% for color in colors %}  
                    <option value="{{ color.pk }}">{{ color.name }}</option>
                    

                    {% endfor %}
                </select>
                </div>
            </div>
            
            <div class="variant-option">
                <h3>Size</h3>
                <div class="variant-selector">


                        
                          <select class="sort-select" id="sort-select" name="size_pk">

                    {% for size in sizes %}

                    <option value="{{ size.pk }}">{{ size.name }}</option>
                   

                  {% endfor %}
                  
                  
                </select>

                

                    

                    

                  


                    
                </div>
            </div>
            
            <div class="quantity-selector">
                <h3>Quantity</h3>
                
                <input type="number" name="quantity" value="1" min="1" class="quantity-input">
                
            </div>
            
            <div class="action-buttons">
                <input type="text" name="product_pk" style="display: none;" value="{{ product.pk }}">
                <button class="btn" type="submit">Add to Cart</button>
                <!-- <button class="btn btn-outline">Add to Wishlist</button> -->
            </div>

            </form>

            <br>
            
            <div class="product-meta">
                <div class="meta-item">
                    <!-- <h3>SKU</h3>
                    <p>UBRS-2023-BLK</p> -->
                </div>
                <div class="meta-item">
                    <h3>Categories</h3>
                    <p>{{ product.Category }}</p>
                </div>
                  
                <br>

                <div class="meta-item">
                    <h3>Share</h3>
                    <div class="social-icons">
                        <i class="fab fa-facebook-f"></i>
                        <i class="fab fa-twitter"></i>
                        <i class="fab fa-instagram"></i>
                        <i class="fab fa-pinterest"></i>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="product-tabs">
            <div class="tabs-header">
                <button class="tab-btn active" data-tab="description">Description</button>
                <!-- <button class="tab-btn" data-tab="specs">Specifications</button> -->
                <button class="tab-btn" data-tab="reviews">Reviews</button>
                <button class="tab-btn" data-tab="shipping">Shipping & Returns</button>
            </div>
            
            <div class="tab-content active" id="description">

                <h2>Product Description</h2>
              
                {{ product.description }}

                <br>
                <br>

                 {% for image in images %}

                <img src="{{ image.image.url }}" alt="Ultra Boost Running Shoes" class="main-image">
                <br>
               

                
                {% endfor %}

                <!-- <img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Ultra Boost Running Shoes" class="main-image">
               
                 -->


            </div>
            <br>
                <br>
            <div class="tab-content" id="specs">
                <h2>Technical Specifications</h2>
                <ul>
                    <li><strong>Weight:</strong> 10.4 oz (size US 9)</li>
                    <li><strong>Drop:</strong> 10mm</li>
                    <li><strong>Upper:</strong> Primeknit</li>
                    <li><strong>Midsole:</strong> Boost technology</li>
                    <li><strong>Outsole:</strong> Continentalâ„¢ Rubber</li>
                    <li><strong>Lacing:</strong> Traditional lace-up</li>
                    <li><strong>Recommended Use:</strong> Road running, training</li>
                </ul>
            </div>
            
            <div class="tab-content" id="reviews">
                <!-- <h2>Customer Reviews</h2>
                <p>No reviews yet. Be the first to review this product!</p> -->





                 <div class="reviews-container">
        <div class="reviews-header">
            <h2 class="reviews-title">Customer Reviews</h2>
            <!-- <button class="write-review-btn">Write a Review</button> -->
        </div>
        
        <!-- Reviews Summary -->
        <div class="reviews-summary">
            <div class="average-rating">
                <div class="average-score">{{ ratings_data.avg_scr }}</div>
                <div class="star-rating">

                    {% if ratings_data.avg_scr %}
                    

                    {% for _ in ratings_data.avg_scr|times %}

                    <i class="fas fa-star"></i>

                    {% endfor %}



                    

                    {% for _ in ratings_data.avg_scr|rating|times %}

                    <i class="far fa-star"></i>

                    {% endfor %}


                    {% endif %}


 
                </div>
                <div class="total-reviews">Based on {{ ratings_data.total_count }}</div>
            </div>
            
            <div class="rating-bars">
                <div class="rating-bar">
                    <div class="rating-label">5 stars</div>
                    <div class="bar-container">
                        <div class="bar" style="width: {{ ratings_data.per_5 }}%"></div>
                    </div>
                    <div class="rating-count">{{ ratings_data.rating_5_count }}</div>
                </div>
                <div class="rating-bar">
                    <div class="rating-label">4 stars</div>
                    <div class="bar-container">
                        <div class="bar" style="width: {{ ratings_data.per_4 }}%"></div>
                        
                    </div>
                    <div class="rating-count">{{ ratings_data.rating_4_count }}</div>
                </div>
                <div class="rating-bar">
                    <div class="rating-label">3 stars</div>
                    <div class="bar-container">
                        <div class="bar" style="width: {{ ratings_data.per_3 }}%"></div>
                    </div>
                    <div class="rating-count">{{ ratings_data.rating_3_count }}</div>
                </div>
                <div class="rating-bar">
                    <div class="rating-label">2 stars</div>
                    <div class="bar-container">
                        <div class="bar" style="width: {{ ratings_data.per_2 }}%"></div>
                    </div>
                    <div class="rating-count">{{ ratings_data.rating_2_count }}</div>
                </div>
                <div class="rating-bar">
                    <div class="rating-label">1 star</div>
                    <div class="bar-container"> 
                        <div class="bar" style="width: {{ ratings_data.per_1 }}%"></div>
                    </div>
                    <div class="rating-count">{{ ratings_data.rating_1_count }}</div>
                </div>
            </div>
        </div>
        
        <!-- Sort Options -->
        <!-- <div style="margin-bottom: 1.5rem; display: flex; justify-content: flex-end;">
            <select style="padding: 0.5rem; border: 1px solid var(--border-color); border-radius: 4px;">
                <option>Most Recent</option>
                <option>Highest Rated</option>
                <option>Lowest Rated</option>
                <option>Most Helpful</option>
            </select>
        </div> -->
        
        <!-- Review Cards -->


        {% for r in ratings %}



        <div class="review-card">
            <div class="review-header">
                <div class="reviewer-info">
                    <div class="reviewer-avatar">{{ r.user.username|slice:":1"|upper }}{{ r.user.username|slice:"-1:"|upper }}</div>
                    <div>
                        <div class="reviewer-name">{{ r.user.username }}</div>
                        <div class="review-date">{{ r.date }}</div>
                    </div>
                </div>
                <div class="review-rating">

                    {% for _ in r.value|times %}
                    <i class="fas fa-star"></i>


                    {% endfor %}

                    {% for _ in r.value|rating|times %}

                    <i class="far fa-star"></i>

                    {% endfor %}


                </div>
            </div>
            
            <!-- <h3 class="review-title">Excellent sound quality and battery life</h3> -->
            
            <div class="review-text">

                {{ r.description }}


                   </div>
            
            <div class="review-recommend">
                <i class="fas fa-check-circle recommend-yes"></i>
                <span>I recommend this product</span>
            </div>
            
            <div class="review-photos">

                 {% for image in r.images.all %}


                <img src="{{ image.image.url }}" alt="Review photo" class="review-photo">


                {% endfor %}


                

            </div>
            
            <div class="review-helpful">
                <span>Was this review helpful?</span>
                <button class="helpful-btn">
                    <i class="fas fa-thumbs-up"></i>
                    <span>Yes</span>
                    <span class="helpful-count">24</span>
                </button>
                <button class="helpful-btn">
                    <i class="fas fa-thumbs-down"></i>
                    <span>No</span>
                    <span class="helpful-count">2</span>
                </button>
                <button class="helpful-btn">
                    <i class="fas fa-flag"></i>
                    <span>Report</span>
                </button>
            </div>


        </div>




        {% endfor %}














        
        <!-- <div class="review-card">
            <div class="review-header">
                <div class="reviewer-info">
                    <div class="reviewer-avatar">AS</div>
                    <div>
                        <div class="reviewer-name">Amanda S.</div>
                        <div class="review-date">May 28, 2023</div>
                    </div>
                </div>
                <div class="review-rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="far fa-star"></i>
                </div>
            </div>
            
            <h3 class="review-title">Great but could be more comfortable</h3>
            
            <div class="review-text">
                The sound quality is fantastic, especially for the price. My only complaint is that after wearing them for more than an hour, they start to feel a bit tight on my ears. Maybe they'll loosen up over time. The battery life is as advertised though, and I love the quick charge feature.
            </div>
            
            <div class="review-recommend">
                <i class="fas fa-check-circle recommend-yes"></i>
                <span>I recommend this product</span>
            </div>
            
            <div class="review-helpful">
                <span>Was this review helpful?</span>
                <button class="helpful-btn">
                    <i class="fas fa-thumbs-up"></i>
                    <span>Yes</span>
                    <span class="helpful-count">15</span>
                </button>
                <button class="helpful-btn">
                    <i class="fas fa-thumbs-down"></i>
                    <span>No</span>
                    <span class="helpful-count">1</span>
                </button>
                <button class="helpful-btn">
                    <i class="fas fa-flag"></i>
                    <span>Report</span>
                </button>
            </div>
        </div> -->








        
        <!-- <div class="review-card">
            <div class="review-header">
                <div class="reviewer-info">
                    <div class="reviewer-avatar">TP</div>
                    <div>
                        <div class="reviewer-name">Thomas P.</div>
                        <div class="review-date">May 10, 2023</div>
                    </div>
                </div>
                <div class="review-rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                </div>
            </div>
            
            <h3 class="review-title">Disappointed with the build quality</h3>
            
            <div class="review-text">
                After just 3 weeks of normal use, the right ear cup started making a crackling sound. The sound quality was decent when they worked, but for this price I expected better durability. Customer service was helpful though and processed my return quickly.
            </div>
            
            <div class="review-recommend">
                <i class="fas fa-times-circle recommend-no"></i>
                <span>I don't recommend this product</span>
            </div>
            
            <div class="review-photos">
                <img src="https://via.placeholder.com/300x300" alt="Review photo" class="review-photo">
            </div>
            
            <div class="review-helpful">
                <span>Was this review helpful?</span>
                <button class="helpful-btn">
                    <i class="fas fa-thumbs-up"></i>
                    <span>Yes</span>
                    <span class="helpful-count">8</span>
                </button>
                <button class="helpful-btn">
                    <i class="fas fa-thumbs-down"></i>
                    <span>No</span>
                    <span class="helpful-count">5</span>
                </button>
                <button class="helpful-btn">
                    <i class="fas fa-flag"></i>
                    <span>Report</span>
                </button>
            </div>
        </div> -->
        
        <!-- Pagination -->
        <!-- <div class="pagination">
            <div class="page-btn"><i class="fas fa-chevron-left"></i></div>
            <div class="page-btn active">1</div>
            <div class="page-btn">2</div>
            <div class="page-btn">3</div>
            <div class="page-btn">4</div>
            <div class="page-btn"><i class="fas fa-chevron-right"></i></div>
        </div> -->


    </div>

    <script>
        // Helpful buttons functionality
        document.querySelectorAll('.helpful-btn').forEach(button => {
            button.addEventListener('click', function() {
                const countElement = this.querySelector('.helpful-count');
                if (countElement) {
                    let count = parseInt(countElement.textContent);
                    countElement.textContent = count + 1;
                    
                    // Disable both buttons after voting
                    const parentDiv = this.closest('.review-helpful');
                    parentDiv.querySelectorAll('.helpful-btn').forEach(btn => {
                        btn.disabled = true;
                        btn.style.opacity = '0.7';
                    });
                    
                    // Highlight the selected button
                    this.style.color = this.querySelector('.fa-thumbs-up') ? 'var(--positive)' : 'var(--negative)';
                }
            });
        });
        
        // Write review button functionality
        document.querySelector('.write-review-btn').addEventListener('click', function() {
            // In a real implementation, this would scroll to or open the review form
            alert('Redirecting to review form...');
        });
        
        // Pagination buttons
        document.querySelectorAll('.page-btn:not(.active)').forEach(button => {
            button.addEventListener('click', function() {
                document.querySelector('.page-btn.active').classList.remove('active');
                this.classList.add('active');
                // In real implementation, this would load the new page of reviews
            });
        });
        
        // Photo click to enlarge (would be implemented with a lightbox in real site)
        document.querySelectorAll('.review-photo').forEach(photo => {
            photo.addEventListener('click', function() {
                // In real implementation, this would open a lightbox
                console.log('Opening photo in lightbox:', this.src);
            });
        });
    </script>









                
            </div>
            
            <div class="tab-content" id="shipping">
                <h2>Shipping Information</h2>
                <p>Free standard shipping on all orders over $50. Express shipping options available at checkout.</p>
                <p>Delivery times: 3-5 business days for standard shipping, 1-2 business days for express shipping.</p>
                
                <h2>Returns Policy</h2>
                <p>We offer a 30-day return policy. Items must be in original condition with tags attached. Return shipping is free for all returns.</p>
            </div>
        </div>
        
        <div class="related-products">
            <h2>You May Also Like</h2>

            

            <div class="related-grid">


            {% for relatedP in related_products|slice:':6' %}
                <div class="related-card">
                    {% for image in relatedP.images.all|slice:":1" %}

                    <img src="{{ image.image.url }}" alt="Related Product 1" class="related-img">

                    {% endfor %}

                    <div class="related-info">
                        <h3>{{ relatedP.name }}</h3>
                        <div class="related-price">${{ relatedP.price }}</div>
                    </div>
                </div>

            {% endfor %}



                <!-- <div class="related-card">
                    <img src="https://images.unsplash.com/photo-1491553895911-0055eca6402d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Related Product 2" class="related-img">
                    <div class="related-info">
                        <h3>Running Shorts</h3>
                        <div class="related-price">$39.99</div>
                    </div>
                </div> -->
                <!-- <div class="related-card">
                    <img src="https://images.unsplash.com/photo-1579338559194-a162d19bf842?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Related Product 3" class="related-img">
                    <div class="related-info">
                        <h3>Performance Running Socks</h3>
                        <div class="related-price">$19.99</div>
                    </div>
                </div> -->
                <!-- <div class="related-card">
                    <img src="https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Related Product 4" class="related-img">
                    <div class="related-info">
                        <h3>Running Armband</h3>
                        <div class="related-price">$24.99</div>
                    </div>
                </div> -->
            </div>
        </div>
    </div>
    
   

  <script>
    // Thumbnail image switcher
    const thumbnails = document.querySelectorAll('.thumbnail');
    const mainImage = document.querySelector('.main-image');
    
    thumbnails.forEach(thumbnail => {
        thumbnail.addEventListener('click', () => {
            // Remove active class from all thumbnails
            thumbnails.forEach(t => t.classList.remove('active'));
            // Add active class to clicked thumbnail
            thumbnail.classList.add('active');
            // Change main image
            mainImage.src = thumbnail.src;
        });
    });
    
    // Quantity selector
    const minusBtn = document.querySelector('.quantity-btn:first-child');
    const plusBtn = document.querySelector('.quantity-btn:last-child');
    const quantityInput = document.querySelector('.quantity-input');
    
   
    
    
    // Tab switcher - Fixed version
    const tabBtns = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');
    
    tabBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const tabId = btn.getAttribute('data-tab');
            
            // Remove active class from all buttons and contents
            tabBtns.forEach(b => b.classList.remove('active'));
            tabContents.forEach(c => c.classList.remove('active'));
            
            // Add active class to clicked button
            btn.classList.add('active');
            
            // Find the corresponding content and add active class
            // const activeTab = document.querySelector(`.tab-content#${tabId}`);
            const activeTab = document.getElementById(tabId);
            if (activeTab) {
                activeTab.classList.add('active');
            }
        });
    });
    
    // Variant selector
    const variantBtns = document.querySelectorAll('.variant-btn');
    
    variantBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            // Find parent variant selector
            const variantSelector = btn.closest('.variant-selector');
            // Remove selected class from all buttons in this selector
            variantSelector.querySelectorAll('.variant-btn').forEach(b => {
                b.classList.remove('selected');
            });
            // Add selected class to clicked button
            btn.classList.add('selected');
        });
    });
</script>


{% endblock %}